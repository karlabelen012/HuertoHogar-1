<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Huerto Hogar ‚Äî Formulario de pago</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Fuentes -->
  <link rel="stylesheet" href="../assets/font/font.css">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Estilos propios -->
  <link rel="stylesheet" href="../assets/css/style.css">
  <link rel="stylesheet" href="../assets/css/productos.css">

  <!-- JS base del proyecto -->
  <script type="module" src="../assets/js/script.js" defer></script>
  <script type="module" src="../assets/js/data.js" defer></script>
  <script type="module" src="../assets/js/ui.js" defer></script>
  <script type="module" src="../assets/js/cart.js" defer></script>
  <script type="module" src="../assets/js/productos.js" defer></script>
</head>

<body>
  <!-- ======= TOPBAR ======= -->
  <header class="border-bottom">
    <div class="bg-white">
      <div class="container py-2">
        <div class="row align-items-center g-2">
          <div class="col-6 col-md-2 d-flex align-items-center">
            <a href="./index.html" class="d-inline-flex align-items-center text-decoration-none">
              <img src="../assets/image/logo.png" alt="Huerto Hogar" class="me-2" style="width:auto;height:55px;object-fit:contain;">
            </a>
          </div>

          <div class="col-12 col-md-6 d-flex justify-content-md-center">
            <form class="d-flex w-100" style="max-width:420px" action="./productos.html">
              <input class="form-control me-2" type="search" placeholder="Buscar" aria-label="Buscar" name="q">
              <button class="btn btn-outline-success" type="submit">Buscar</button>
            </form>
          </div>

          <div class="col-6 col-md-4 d-flex justify-content-end align-items-center gap-2">
            <a class="btn btn-outline-primary btn-sm" href="./login.html">Iniciar Sesi√≥n</a>
            <a class="btn btn-primary btn-sm" href="./registro.html">Crear Cuenta</a>
            <a class="btn btn-success btn-sm d-flex align-items-center" href="./carrito.html">
              <span class="me-1">üõí</span>
              Carrito <span class="ms-1" id="cartAmount">$0</span>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- ======= NAVBAR ======= -->
    <nav class="navbar navbar-expand-lg bg-white">
      <div class="container">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div id="mainNav" class="collapse navbar-collapse">
          <ul class="navbar-nav mx-auto">
            <li class="nav-item"><a class="nav-link active fw-semibold" aria-current="page" href="./index.html">Home</a></li>

            <li class="nav-item dropdown d-flex align-items-center nav-categories">
              <a class="nav-link" href="./productos.html">Productos</a>
              <a class="nav-link dropdown-toggle dropdown-toggle-split px-1"
                 href="#" id="catToggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="visually-hidden">Abrir subcategor√≠as</span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="catToggle">
                <li><a class="dropdown-item" href="./categorias.html?c=Frutas%20Frescas">Frutas Frescas</a></li>
                <li><a class="dropdown-item" href="./categorias.html?c=Verduras%20Org%C3%A1nicas">Verduras Org√°nicas</a></li>
                <li><a class="dropdown-item" href="./categorias.html?c=Productos%20Org%C3%A1nicos">Productos Org√°nicos</a></li>
                <li><a class="dropdown-item" href="./categorias.html?c=L%C3%A1cteos">L√°cteos</a></li>
              </ul>
            </li>

            <li class="nav-item"><a class="nav-link" href="./ofertas.html">Ofertas</a></li>
            <li class="nav-item"><a class="nav-link" href="./nosotros.html">Nosotros</a></li>
            <li class="nav-item"><a class="nav-link" href="./blogs.html">Blog</a></li>
            <li class="nav-item"><a class="nav-link" href="./contactos.html">Contacto</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- =============== MAIN (Checkout) =============== -->
  <main class="container py-5" style="max-width:900px;">
    <div class="bg-white shadow-sm p-4 rounded-4 border">

      <!-- Volver al carrito -->
      <div class="d-flex align-items-center gap-2 mb-2">
        <a href="./carrito.html" class="text-decoration-none">‚Üê Volver al carrito</a>
      </div>

      <h4 class="fw-bold mb-2" style="font-family:'Playfair Display',serif;color:#2E8B57;">Carrito de compra</h4>
      <p class="text-muted mb-4">Completa la siguiente informaci√≥n</p>

      <!-- Tabla: se rellena por JS -->
      <div class="table-responsive">
        <table class="table align-middle">
          <thead class="table-light">
            <tr>
              <th style="width:80px;">Imagen</th>
              <th>Nombre</th>
              <th class="text-end">Precio</th>
              <th class="text-center" style="width:160px;">Cantidad</th>
              <th class="text-end">Subtotal</th>
              <th style="width:40px;"></th>
            </tr>
          </thead>
          <tbody id="tbodyCarrito"></tbody>
        </table>
      </div>

      <!-- Total -->
      <div class="text-end mb-5">
        <span id="txtTotal" class="badge bg-primary fs-6 p-2">Total a pagar: $ 0</span>
      </div>

      <!-- Informaci√≥n del cliente (IDs para autofill) -->
      <section class="mb-5">
        <h5 class="fw-bold" style="font-family:'Playfair Display',serif;">Informaci√≥n del cliente</h5>
        <p class="text-muted mb-3">Completa la siguiente informaci√≥n</p>
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label small fw-semibold">Nombre*</label>
            <input id="inpNombre" type="text" class="form-control" placeholder="Ej: Pedro">
          </div>
          <div class="col-md-6">
            <label class="form-label small fw-semibold">Apellidos*</label>
            <input id="inpApellidos" type="text" class="form-control" placeholder="Ej: Gonzales">
          </div>
          <div class="col-md-12">
            <label class="form-label small fw-semibold">Correo*</label>
            <input id="inpCorreo" type="email" class="form-control" placeholder="ejemplo@correo.com">
          </div>
        </div>
      </section>

      <!-- Direcci√≥n (IDs para autofill) -->
      <section class="mb-4">
        <h5 class="fw-bold" style="font-family:'Playfair Display',serif;">Direcci√≥n de entrega de los productos</h5>
        <p class="text-muted mb-3">Ingresa direcci√≥n de forma detallada</p>

        <div class="row g-3">
          <div class="col-md-8">
            <label class="form-label small fw-semibold">Calle*</label>
            <input id="inpCalle" type="text" class="form-control" placeholder="Ej: Av. Las Flores 1234">
          </div>
          <div class="col-md-4">
            <label class="form-label small fw-semibold">Departamento (opcional)</label>
            <input id="inpDepto" type="text" class="form-control" placeholder="Ej: 603">
          </div>

           <div class="row g-3 mb-3">
            <!-- REGI√ìN -->
            <div class="col-md-6">
              <label for="region" class="form-label">REGI√ìN</label>
              <select id="region" class="form-select" required>
                <option value="">-- Seleccione la regi√≥n --</option>
                <option value="arica">Regi√≥n de Arica y Parinacota</option>
                <option value="tarapaca">Regi√≥n de Tarapac√°</option>
                <option value="antofagasta">Regi√≥n de Antofagasta</option>
                <option value="atacama">Regi√≥n de Atacama</option>
                <option value="coquimbo">Regi√≥n de Coquimbo</option>
                <option value="valparaiso">Regi√≥n de Valpara√≠so</option>
                <option value="metropolitana">Regi√≥n Metropolitana de Santiago</option>
                <option value="ohiggins">Regi√≥n del Libertador B. O‚ÄôHiggins</option>
                <option value="maule">Regi√≥n del Maule</option>
                <option value="nuble">Regi√≥n de √ëuble</option>
                <option value="biobio">Regi√≥n del Biob√≠o</option>
                <option value="araucania">Regi√≥n de La Araucan√≠a</option>
                <option value="losrios">Regi√≥n de Los R√≠os</option>
                <option value="loslagos">Regi√≥n de Los Lagos</option>
                <option value="aysen">Regi√≥n de Ays√©n</option>
                <option value="magallanes">Regi√≥n de Magallanes y la Ant√°rtica Chilena</option>
              </select>
            </div>

            <!-- COMUNA -->
            <div class="col-md-6">
              <label for="comuna" class="form-label">COMUNA</label>
              <select id="comuna" class="form-select" required>
                <option value="">-- Seleccione la comuna --</option>

                <!-- Regi√≥n de Arica y Parinacota -->
                <optgroup label="Regi√≥n de Arica y Parinacota">
                  <option>Arica</option>
                  <option>Putre</option>
                </optgroup>

                <!-- Regi√≥n de Tarapac√° -->
                <optgroup label="Regi√≥n de Tarapac√°">
                  <option>Iquique</option>
                  <option>Alto Hospicio</option>
                </optgroup>

                <!-- Regi√≥n de Antofagasta -->
                <optgroup label="Regi√≥n de Antofagasta">
                  <option>Antofagasta</option>
                  <option>Calama</option>
                  <option>Tocopilla</option>
                </optgroup>

                <!-- Regi√≥n de Atacama -->
                <optgroup label="Regi√≥n de Atacama">
                  <option>Copiap√≥</option>
                  <option>Vallenar</option>
                  <option>Cha√±aral</option>
                </optgroup>

                <!-- Regi√≥n de Coquimbo -->
                <optgroup label="Regi√≥n de Coquimbo">
                  <option>La Serena</option>
                  <option>Coquimbo</option>
                  <option>Ovalle</option>
                </optgroup>

                <!-- Regi√≥n de Valpara√≠so -->
                <optgroup label="Regi√≥n de Valpara√≠so">
                  <option>Valpara√≠so</option>
                  <option>Vi√±a del Mar</option>
                  <option>Quilpu√©</option>
                  <option>Villa Alemana</option>
                  <option>San Antonio</option>
                </optgroup>

                <!-- Regi√≥n Metropolitana -->
                <optgroup label="Regi√≥n Metropolitana de Santiago">
                  <option>Santiago</option>
                  <option>Puente Alto</option>
                  <option>Maip√∫</option>
                  <option>Las Condes</option>
                  <option>La Florida</option>
                  <option>√ëu√±oa</option>
                  <option>Providencia</option>
                </optgroup>

                <!-- Regi√≥n de O‚ÄôHiggins -->
                <optgroup label="Regi√≥n del Libertador B. O‚ÄôHiggins">
                  <option>Rancagua</option>
                  <option>Machal√≠</option>
                  <option>San Fernando</option>
                  <option>Santa Cruz</option>
                </optgroup>

                <!-- Regi√≥n del Maule -->
                <optgroup label="Regi√≥n del Maule">
                  <option>Talca</option>
                  <option>Linares</option>
                  <option>Cauquenes</option>
                  <option>Curic√≥</option>
                </optgroup>

                <!-- Regi√≥n de √ëuble -->
                <optgroup label="Regi√≥n de √ëuble">
                  <option>Chill√°n</option>
                  <option>San Carlos</option>
                  <option>Bulnes</option>
                  <option>Quirihue</option>
                  <option>Yungay</option>
                </optgroup>

                <!-- Regi√≥n del Biob√≠o -->
                <optgroup label="Regi√≥n del Biob√≠o">
                  <option>Concepci√≥n</option>
                  <option>Los √Ångeles</option>
                  <option>Coronel</option>
                  <option>Lota</option>
                  <option>Nacimiento</option>
                </optgroup>

                <!-- Regi√≥n de La Araucan√≠a -->
                <optgroup label="Regi√≥n de La Araucan√≠a">
                  <option>Temuco</option>
                  <option>Villarrica</option>
                  <option>Puc√≥n</option>
                  <option>Angol</option>
                  <option>Lautaro</option>
                </optgroup>

                <!-- Regi√≥n de Los R√≠os -->
                <optgroup label="Regi√≥n de Los R√≠os">
                  <option>Valdivia</option>
                  <option>La Uni√≥n</option>
                  <option>R√≠o Bueno</option>
                </optgroup>

                <!-- Regi√≥n de Los Lagos -->
                <optgroup label="Regi√≥n de Los Lagos">
                  <option>Puerto Montt</option>
                  <option>Puerto Varas</option>
                  <option>Osorno</option>
                  <option>Castro</option>
                </optgroup>

                <!-- Regi√≥n de Ays√©n -->
                <optgroup label="Regi√≥n de Ays√©n">
                  <option>Coyhaique</option>
                  <option>Puerto Ays√©n</option>
                </optgroup>

                <!-- Regi√≥n de Magallanes -->
                <optgroup label="Regi√≥n de Magallanes y la Ant√°rtica Chilena">
                  <option>Punta Arenas</option>
                  <option>Puerto Natales</option>
                </optgroup>
              </select>
            </div>
          </div>
          <div class="col-12">
            <label class="form-label small fw-semibold">Indicaciones para la entrega (opcional)</label>
            <textarea id="txtIndicaciones" class="form-control" rows="2" placeholder="Ej: Entre calles, color del edificio, no tiene timbre."></textarea>
          </div>
        </div>
      </section>

      <!-- Bot√≥n pagar (monto din√°mico) -->
      <div class="text-end mt-4">
        <button id="btnPagar" class="btn btn-success px-4 py-2">
          Pagar ahora $ 0
        </button>
      </div>
    </div>
    
    <!-- Secci√≥n de pago (inicia oculta) -->
<section id="paymentSection" class="mt-5 d-none">
  <h5 class="fw-bold">Pago con tarjeta</h5>
  <p class="text-muted">Ingresa los datos de tu tarjeta para completar la compra.</p>

  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label small">Titular de la tarjeta*</label>
      <input type="text" id="cardName" class="form-control" placeholder="Nombre como aparece en la tarjeta">
    </div>
    <div class="col-md-6">
      <label class="form-label small">N√∫mero de tarjeta* (16 d√≠gitos)</label>
      <input type="text" id="cardNumber" inputmode="numeric" maxlength="19" class="form-control" placeholder="XXXX XXXX XXXX XXXX">
    </div>
    <div class="col-md-4">
      <label class="form-label small">Vencimiento* (MM/AA)</label>
      <input type="text" id="cardExp" class="form-control" placeholder="MM/AA" maxlength="5">
    </div>
    <div class="col-md-4">
      <label class="form-label small">CVV* (3 d√≠gitos)</label>
      <input type="password" id="cardCvv" class="form-control" maxlength="3" inputmode="numeric" placeholder="***">
    </div>
  </div>

  <div class="text-end mt-4">
    <button id="btnConfirmPay" class="btn btn-primary">Confirmar pago</button>
  </div>
</section>

  </main>

  <!-- ======= FOOTER ======= -->
  <footer class="footer mt-5">
    <div class="container">
      <div class="footer-top">
        <div class="footer-left">
          <h2>HuertoHogar</h2>
          <div class="foot-links">
            <a href="index.html">Inicio</a> |
            <a href="productos.html">Productos</a> |
            <a href="nosotros.html">Nosotros</a> |
            <a href="contactos.html">Contacto</a>
          </div>
        </div>

        <div class="footer-right">
          <p>¬°Mantente en contacto! √önete a nuestro bolet√≠n.</p>
          <form id="subscribeForm" class="subscribe-form">
            <input type="email" id="emailSub" name="emailSub" placeholder="Ingresa tu correo" required>
            <button type="submit">Suscribirse</button>
          </form>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="footer-column contacto">
          <h3>Contacto</h3>
          <p>Email: <a href="mailto:contacto@huertohogar.cl">contacto@huertohogar.cl</a></p>
          <p>Tel√©fono: <a href="tel:+56912345678">+56 9 1234 5678</a></p>
        </div>

        <div class="footer-column redes">
          <h3>S√≠guenos en redes sociales:</h3>
          <div class="social-icons">
            <a href="https://www.instagram.com" target="_blank"><img src="../assets/image/instagram.png" alt="Instagram"></a>
            <a href="https://wa.me/56912345678" target="_blank"><img src="../assets/image/whatsapp.png" alt="WhatsApp"></a>
            <a href="https://www.facebook.com" target="_blank"><img src="../assets/image/facebook.png" alt="Facebook"></a>
          </div>
        </div>

        <div class="footer-column pagos">
          <h3>Pagos seguros:</h3>
          <div class="pay-icons">
            <img src="../assets/image/visa.png" alt="Visa">
            <img src="../assets/image/master card.png" alt="MasterCard">
            <img src="../assets/image/paypal.png" alt="PayPal">
          </div>
        </div>
      </div>

      <div class="footer-logo">
        <img src="../assets/image/logo.png" alt="Logo HuertoHogar">
      </div>
    </div>
  </footer>



  <!-- L√≥gica del checkout (render carrito, autofill, sincronizaci√≥n) -->
  <script type="module" src="../assets/js/checkout.js"></script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
